스웜 클래식과 스웜 모드는 여러 대의 도커 서버를 하나의 클러스터로 만들어 컨테이너를 생성하는 여러 기능을 제공합니다. 다양한 전략을 세워 컨테이너를 특정 도커 서버에 할당할 수 있고, 유동적으로 서버를 확장할 수도 있습니다. 

>[!tip]
>비록 도커 스웜 모드가 실제 운영 환경에서 많이 쓰이는 것은 아니지만 서버 클러스터에서 컨테이너를 어떻게 다루는지에 대한 기초적인 지식을 쌓기에 적합하기 때문입니다.

도커 스웜에는 두 가지 종류가 있습니다. 첫번 째는 도커 1.6 이후부터 사용할 수 있는 **컨테이너로서의 스웜**이고, 두 번째는 도커 1.12 이후부터 사용할 수 있는 **도커 스웜모드**입니다. 앞으로 두 가지 종류의 스웜을 구분하기 위해 첫 번째를 `스웜 클래식`, `스웜 모드`라고 부르겠습니다.

`스웜 클래식`과 `스웜 모드`의 가장 큰 차이점은 바로 그 목적에 있습니다. `스웜 클래식`은 여러 대의 도커 서버를 하나의 지점에서 사용하도록 **단일 접근점**을 제공한다면, `스웜 모드`는 MSA의 컨테이너를 다루기 위한 **클러스터링 기능**에 초점을 맞추고 있습니다.

`스웜 클래식`은 docker run 같은 일반적인 도커 명령어와 도커 API로 클러스터의 서버를 제어하고 관리할 수 있는 기능을 제공합니다. 이에 비해 `스웜 모드`는 같은 컨테이너를 동시에 여러 개 생성해 필요에 따라 **유동적으로 컨테이너의 수를 조절**할 수 있으며, 컨테이너로의 연결을 분산하는 **로드밸런싱** 기능을 자체적으로 지원합니다.
개발하는 애플리케이션에 따라 사용하면 되지만, 스웜 모드가 서비스 확장성과 안정성 등 여러 측면에서 스웜 클래식보다 뛰어나기에 `스웜 모드`를 많이 사용합니다.

![그림 3.2](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FsMnOp%2FbtrZItpgD7H%2FYuOp9zKABrcK7twHhNM5bk%2Fimg.png)

또 다른 차이점은 분산 코디네이터[^1], 매니저[^2], 에이전트[^3]와 같은 클러스터 툴이 별도로 구동되느냐입니다. 여러 개의 도커 서버를 하나의 클러스터로 구성하려면 위 셋은 반드시 있어야 합니다. 
`스웜 클래식`은 각 클러스터 툴이 별도로 실행돼야 하지만, `스웜 모드`는 클러스터링을 위한 모든 도구가 도커 엔진 자체에 내장돼 있기 때문에 더욱 쉽게 클러스터 구축이 가능합니다. 

>[!warning]
>앞으로 설명하는 예제에서는 스웜 모드만을 다룰 예정이고, 스웜모드는 적어도 3대 이상의 도커 서버를 사용해야만 기능을 제대로 테스트할 수 있으므로 앞으로 설명할 예제를 위해 `Virtual Box`, `AWS의 EC2 인스턴스` 등을 활용하는 것도 좋은 방법입니다.

---

[^1]: 여러 개의 도커 서버를 하나의 클러스터로 구성하려면 각종 정보를 저장하고 동기화하는 것. 쿠버네티스에서 나오는 etcd가 대표적인 예이며, 스웜 클래식은 대부분의 분산 코디네이터를 사용할 수 있습니다. 스웜 모드는 별도 구축이 필요 없습니다.

[^2]: 클러스터 상태 관리 및 클러스터 내의 서버를 관리하고 제어하는 클러스터 툴. 작업 스케줄링, 로드 밸런싱, 자원 할당과 같은 중요한 결정을 내리는 역할을 가지고 있습니다.

[^3]: 각 서버를 제어하는 클러스터 툴, 매니저로부터 받은 명령을 수행하는 **작업자**입니다. 에이전트는 매니저가 분배한 작업을 실제로 실행합니다. 이들은 클러스터의 개별 서버에서 동작하며, 작업을 처리하고 해당 상태를 매니저에게 보고합니다.
	
